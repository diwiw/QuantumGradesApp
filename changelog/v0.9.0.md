# Changelog â€” QuantGradesApp

---

# v0.9.0 â€” Metrics Expansion â€¢ Ingest Fixes â€¢ CLI Stability â€¢ CI Cleanup â€¢ CPU Profiling Infrastructure

**Release date:** 2025-12-03

This release finalizes the pre-1.0 groundwork:
âœ” advanced trading metrics,
âœ” consistent data ingestion model,
âœ” stable CLI behavior,
âœ” profiling tools,
âœ” cleanup of tests and configuration system.

CI is intentionally **not** fixed in this milestone â€” full CI refactor is scheduled for **v1.0.5**.

---

### Added

### **Advanced Quantitative Metrics**
- Maximum Drawdown (MDD)
- Compound Annual Growth Rate (CAGR)
- Sharpe Ratio
- Sortino Ratio
- Hit Ratio
- Expanded unit tests for all metrics

### **CPU Profiling Infrastructure (Linux)**
- `perf_setup.sh` â€” automatic perf environment setup
- `perf_flamegraph.sh` â€” FlameGraph generator
- `perf_hotspot.sh` â€” hotspot extraction
- `linux-profiling` CMake preset (RelWithDebInfo + DWARF symbols)
- VSCode profiling tasks
- Dedicated directory: `profiling_output/`

### **Testing & Infrastructure**
- Updated CLI tests (new required `--config`)
- Updated Config/Profile tests (new JSON schema)
- Added `NullLogger` for deterministic testing
- Improved Statistics test cases
- Updated data fixtures for ingestion tests

### **Ingest Improvements**
- Strict CSV shape validation
- Safer row parsing
- Better error reporting
- Added prototype mock-HTTP ingest (manual testing only)

### **Documentation**
- Profiling documentation
- Updated architecture pages
- Expanded module descriptions

---

## ðŸ”§ Changed

- Refactored **Statistics** module for consistency & testability
- Refined **DataIngest** validation rules
- CLI now **requires `--config`** (no implicit defaults)
- Cleaner logging (reduced debug noise)
- Updated CMake presets and profiles
- Reorganized test fixtures
- Improved error messages in CLI and ingestion

---

## ðŸ› Fixed

- CLI crash when `--config` was missing
- DataIngest incorrectly accepting malformed CSV rows
- E2E test discovery issues (Linux)
- Config/profile loading bugs after schema redesign
- Numerous minor issues across ingestion, exporter, and stats modules

(Windows CI still fails â€” by design â€” due to postponed path unification.)

---

## ðŸ§¹ Quality / CI Cleanup

*(These improve maintainability but do not fix CI test failures.)*

- Global **clang-format** cleanup
- Added **clang-tidy** baseline
- Unified coding style rules
- Removed legacy configuration code
- Clarified CI workflow expectations for upcoming 1.0.5 refactor

---

## Structure
### New Directories

tools/profiling/
profiling_output/

### Updated:

config/*.json
tests/e2e/
tests/unit/
CMakePresets.json
.vscode/tasks.json

---

# Previous Releases

## [0.8.0] â€“ 2025-10
*(See `changelog/v0.8.0.md`)*

---

# Planned for 1.0.0 (Unreleased)

### ðŸš€ REST API v1 (cpp-httplib / crow)
- `/api/v1/backtest`
- `/api/v1/config/validate`
- `/api/v1/health`
- JSON schemas
- Optional async mode

### ðŸ“¦ Release Packaging
- Installable Linux `.tar.gz`
- Windows `.zip`
- Bundled profiles, datasets, docs

### ðŸ§ª Coverage â‰¥ 70% (core modules)
- Config
- Statistics
- DataIngest
- DataExporter
- Backtest engine

### ðŸ“š Docs Overhaul
- Quickstart
- API reference
- Architecture diagrams

---

# Planned for 1.0.5 â€” *Advanced Test Infrastructure*

> This is where CI becomes green again.

- New test layout (unit/module/system/perf)
- `MockLogger` for deterministic testing
- Integration test suite
- Performance test scaffold
- Coverage reporting in CI
- Windows/Linux unified test paths
- Fully rewritten CTest configs

---

# Older versions

See archived history in `/changelog/`.
